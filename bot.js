const Discord = require('discord.js');
const client = new Discord.Client();
const moment = require('moment');
client.on('ready', () => {
  console.log(`Logged in as ${client.user.tag}!`);
});








client.on("message", message => {
    var prefix = ".";
        if (message.author.id === client.user.id) return;
        if (message.guild) {
       let embed = new Discord.RichEmbed()
        let args = message.content.split(' ').slice(1).join(' ');
    if(message.content.split(' ')[0] == prefix + 'bc') {
        if (!args[1]) {
    message.channel.send("**ÙŠØ±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø±Ø§Ø¯ Ø§Ø±Ø³Ø§Ù„Ù‡Ø§ Ù„Ù„Ø¬Ù…ÙŠØ¹**");
    return;
    }
            message.guild.members.forEach(m => {
       if(!message.member.hasPermission('ADMINISTRATOR')) return;
                m.send(args);
            });
            const AziRo = new Discord.RichEmbed()
            .setAuthor(message.author.username, message.author.avatarURL)   
            .setTitle('âœ…| Ø¬Ø§Ø±ÙŠ Ø§Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ ') 
            .addBlankField(true)
            .addField('â™¨| Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø±Ø³Ù„ Ù„Ù‡Ù… ', message.guild.memberCount , true)        
            .addField('ğŸ“| Ø§Ù„Ø±Ø³Ø§Ù„Ø© ', args)
            .setColor('RANDOM')  
            message.channel.sendEmbed(AziRo);          
        }
        } else {
            return;
        }
    });










client.on("message", message => {
  if(message.content.startsWith(".verify")) {
    let num = Math.floor((Math.random() * 4783) + 10);

    message.channel.send(`ÙŠØ±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ§Ù„ÙŠ: **${num}**`).then(m => {
      message.channel.awaitMessages(res => res.content == `${num}`, {
        max: 1,
        time: 60000,
        errors: ['time'],
      }).then(collected => {
        message.delete();
        m.delete();
        message.member.addRole(message.guild.roles.find(c => c.name == "âœµ- Member"));
      }).catch(() => {
        m.edit(`You took to long to type the number.\nRe-type the command again if you want to verify yourself.`).then(m2 => m.delete(15000));
      });
    });
  }
});









    client.on('message', message => {
        var prefix = ".";
        if (message.author.bot) return;
        if (!message.content.startsWith(prefix)) return;
      
        let command = message.content.split(" ")[0];
        command = command.slice(prefix.length);
      
      
      let args = message.content.split(" ").slice(1);
      let x = args.join(" ")
        if(message.content.startsWith(prefix + 'say')) {
            message.channel.send(''+x);
                message.delete(999)
        }
        
       
      });

 









client.on('message', message => {
 var prefix = "."

if (message.content.toLowerCase().startsWith(prefix + `new`)) {
    const reason = message.content.split(" ").slice(1).join(" ");
    if (!message.guild.roles.exists("name", "Support Team")) return message.channel.send(`\`Support Team\` **Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±ØªØ¨Ø© Ø¨Ø£Ø³Ù…**`);
    if (message.guild.channels.exists("name", "ticket-" + message.author.id)) return message.channel.send(`**Ù„Ø¯ÙŠÙƒ ØªØ°ÙƒØ±Ø© Ù…ÙØªÙˆØ­Ø© Ø¨Ø§Ù„ÙØ¹Ù„**`);
    message.guild.createChannel(`ticket`, "text").then(c => {
        let role = message.guild.roles.find("name", "Support Team");
        let role2 = message.guild.roles.find("name", "@everyone");
        c.overwritePermissions(role, {
            SEND_MESSAGES: true,
            READ_MESSAGES: true
        });
        c.overwritePermissions(role2, {
            SEND_MESSAGES: false,
            READ_MESSAGES: false
        });
        c.overwritePermissions(message.author, {
            SEND_MESSAGES: true,
            READ_MESSAGES: true
        });
        message.channel.send(`:white_check_mark: ØªÙ… Ø§Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ°ÙƒØ±Ø©`);
        const embed = new Discord.RichEmbed()
        .setColor(0xCF40FA)
        .addField(`${message.author.username} **Ù…Ø±Ø­Ø¨Ø§ Ø¨Ùƒ**`, `
ÙŠØ±Ø¬Ù‰ Ù…Ø­Ø§ÙˆÙ„Ø© Ø´Ø±Ø­ Ø³Ø¨Ø¨ ÙØªØ­ Ù‡Ø°Ù‡ Ø§Ù„ØªØ°ÙƒØ±Ø© Ø¨Ø£ÙƒØ¨Ø± Ù‚Ø¯Ø± Ù…Ù…ÙƒÙ† Ù…Ù† Ø§Ù„ØªÙØ§ØµÙŠÙ„. Ø³ÙŠÙƒÙˆÙ† ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù… ** ** Ù‡Ù†Ø§ Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ`)
        .setTimestamp();
        c.send({ embed: embed });
    }).catch(console.error);
}
if (message.content.toLowerCase().startsWith(prefix + `close`)) {
    if (!message.channel.name.startsWith(`ticket`)) return message.channel.send(`Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ù…Ø± Ø§Ù„Ø¥ØºÙ„Ø§Ù‚ Ø®Ø§Ø±Ø¬ Ù‚Ù†Ø§Ø© Ø§Ù„ØªØ°Ø§ÙƒØ±`);

    message.channel.send(`**confirm** : Ù‡Ù„ Ø§Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§ØºÙ„Ø§Ù‚ Ø§Ù„ØªØ°ÙƒØ±Ø© ØŸ Ø§Ø°Ø§ Ø§Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø§ÙƒØªØ¨`)
    .then((m) => {
      message.channel.awaitMessages(response => response.content === 'confirm', {
        max: 1,
        time: 10000,
        errors: ['time'],
      })
      .then((collected) => {
          message.channel.delete();
        })
        .catch(() => {
          m.edit('Ø§Ù†ØªÙ‡ÙŠ ÙˆÙ‚Øª Ø§ØºÙ„Ø§Ù‚ Ø§Ù„ØªØ°ÙƒØ±Ø©').then(m2 => {
              m2.delete();
          }, 3000);
        });
    });
}

});













const code = '.';//prefix

client.on('message',async message => {
    if(message.content.startsWith(code + "js")) {
  if(!message.channel.guild) return message.reply('This Command For Servers Only !');
          if(message.channel.name !== 'sharejs') return message.reply('ÙŠØ¬Ø¨ ÙƒØªØ§Ø¨Ù‡ Ø§Ù„Ø§Ù…Ø± ÙÙŠ Ø±ÙˆÙ… Ø¨Ø§Ø³Ù… sharejs')
    let jscodes = message.guild.channels.find(`name`, "âœµ-ã€Œnode_js");
    if(!jscodes) return message.channel.send(":x:Ù„Ù… Ø§Ø¬Ø¯ Ø§Ù„Ø±ÙˆÙ… Ø§Ù„Ø®Ø§Øµ Ø¨Ù†Ø´Ø± Ø§Ù„Ø§ÙƒÙˆØ§Ø¯");
      let filter = m => m.author.id === message.author.id;
      let thisMessage;
      let thisFalse;
      message.channel.send(':pencil: **| Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØªØ¨ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£Ù†... :pencil2: **').then(msg => {
  
      message.channel.awaitMessages(filter, {
        max: 1,
        time: 90000,
        errors: ['time']
      })
      .then(collected => {
        collected.first().delete();
        thisMessage = collected.first().content;
        let boi;
        msg.edit(':scroll: **| Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØªØ¨ ÙˆØµÙ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£Ù†... :pencil2: **').then(msg => {
  
            message.channel.awaitMessages(filter, {
              max: 1,
              time: 90000,
              errors: ['time']
            })
            .then(collected => {
              collected.first().delete();
              boi = collected.first().content;
              let boi2;
              msg.edit(':man_in_tuxedo: **| Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØªØ¨ Ù…Ù† ØµÙ†Ø¹ Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£Ù†... :pencil2: **').then(msg => {
  
                message.channel.awaitMessages(filter, {
                  max: 1,
                  time: 90000,
                  errors: ['time']
                })
                .then(collected => {
                  collected.first().delete();
                boi2 = collected.first().content;
        msg.edit(':shield: **| [ Ù‡Ù„ Ø§Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù†Ø´Ø± Ø§Ù„ÙƒÙˆØ¯ØŸ | [ Ù†Ø¹Ù… ] Ø§Ùˆ [ Ù„Ø§**');
   message.channel.awaitMessages(response => response.content === 'Ù†Ø¹Ù…' || 'Ù„Ø§' && filter,{
          max: 1,
          time: 90000,
          errors: ['time']
        })
        .then(collected => {
          if(collected.first().content === 'Ù„Ø§') {
            msg.delete();
            message.delete();
            thisFalse = false;
          }
          if(collected.first().content === 'Ù†Ø¹Ù…') {
            if(thisFalse === false) return;
            msg.edit(':dove: **| Done :white_check_mark:, ØªÙ… Ø¨Ù†Ø¬Ø§Ø­ Ù†Ø´Ø± ÙƒÙˆØ¯Ùƒ ÙÙŠ Ø±ÙˆÙ… Ø§Ù„Ø§ÙƒÙˆØ§Ø¯**');
            collected.first().delete();
            jscodes.send(`@everyone | @here
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


**~~__${message.guild.name}__~~**Â© :arrow_down:

            
\`\`\`js


${thisMessage}\`\`\`


=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

**ÙˆØµÙ Ø§Ù„ÙƒÙˆØ¯**: ${boi}
**ØªÙ… Ø§Ù„Ù†Ø´Ø± Ø¨ÙˆØ§Ø³Ø·Ø©**: ${message.author}
**Ø§Ù„Ù…ØµØ¯Ø± / Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø°ÙŠ ØµÙ†Ø¹ Ø§Ù„ÙƒÙˆØ¯**: ${boi2}`); 
          }
        }
    );
});
      });
    }
      );
    });
}
);
      })}});






client.login(process.env.BOT_TOKEN);
